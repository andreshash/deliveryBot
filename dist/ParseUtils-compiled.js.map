{"version":3,"sources":["ParseUtils.js"],"names":[],"mappings":"AAAA;;AAEA,OAAO,cAAP,CAAsB,OAAtB,EAA+B,YAA/B,EAA6C;AAC3C,SAAO;AADoC,CAA7C;AAGA,QAAQ,sBAAR,GAAiC,sBAAjC;AACA,QAAQ,oBAAR,GAA+B,oBAA/B;;AAEA,IAAI,gBAAgB,QAAQ,eAAR,CAApB;;AAEA,IAAI,iBAAiB,uBAAuB,aAAvB,CAArB;;AAEA,SAAS,sBAAT,CAAgC,GAAhC,EAAqC;AAAE,SAAO,OAAO,IAAI,UAAX,GAAwB,GAAxB,GAA8B,EAAE,SAAS,GAAX,EAArC;AAAwD;;AAE/F,SAAS,sBAAT,CAAgC,MAAhC,EAAwC;AACtC,MAAI,EAAE,kBAAkB,MAAM,MAA1B,CAAJ,EAAuC;AACrC,WAAO,MAAP;AACD;AACD,MAAI,aAAa,OAAO,MAAP,EAAjB;AACA,MAAI,SAAS,EAAb;AACA,GAAC,GAAG,eAAe,OAAnB,EAA4B,MAA5B,EAAoC,EAAE,IAAI,OAAO,QAAb,EAApC,EAA6D,UAA7D;AACA,SAAO,IAAP,CAAY,UAAZ,EAAwB,OAAxB,CAAgC,UAAU,GAAV,EAAe;AAC7C,QAAI,OAAO,GAAP,KAAe,OAAO,GAAP,EAAY,MAA3B,IAAqC,OAAO,GAAP,aAAuB,KAAhE,EAAuE;AACrE,aAAO,GAAP,IAAc,OAAO,GAAP,EAAY,GAAZ,CAAgB,UAAU,CAAV,EAAa;AACzC,eAAO,uBAAuB,CAAvB,CAAP;AACD,OAFa,CAAd;AAGD;AACD,QAAI,OAAO,GAAP,aAAuB,MAAM,MAA7B,IAAuC,OAAO,gBAAlD,EAAoE;AAClE,UAAI,cAAc,OAAO,GAAP,CAAlB;AACA,aAAO,GAAP,IAAc,uBAAuB,OAAO,GAAP,CAAvB,CAAd;AACA,aAAO,GAAP,EAAY,cAAZ,GAA6B,WAA7B;AACD;AACD,QAAI,OAAO,GAAP,aAAuB,MAAM,QAA7B,IAAyC,OAAO,GAAP,KAAe,OAAO,GAAP,EAAY,MAAZ,IAAsB,UAAlF,EAA8F;AAC5F,aAAO,GAAP,IAAc;AACZ,aAAK,OAAO,GAAP,EAAY,QADL;AAEZ,aAAK,OAAO,GAAP,EAAY;AAFL,OAAd;AAID;AACF,GAjBD;AAkBA,SAAO,cAAP,GAAwB,MAAxB;AACA,SAAO,MAAP;AACD;AACD;;;AAGA;AACA,SAAS,oBAAT,CAA8B,MAA9B,EAAsC;AACpC,MAAI,EAAE,kBAAkB,MAAM,MAA1B,CAAJ,EAAuC;AACrC,WAAO,MAAP;AACD;AACD,SAAO,KAAP,CAAa,gBAAb;AACA,SAAO,IAAP,CAAY,OAAO,UAAnB,EAA+B,OAA/B,CAAuC,UAAU,GAAV,EAAe;AACpD,QAAI,OAAO,GAAP,CAAW,GAAX,aAA2B,KAA/B,EAAsC;AACpC,UAAI,QAAQ,OAAO,GAAP,CAAW,GAAX,CAAZ;AACA,aAAO,GAAP,CAAW,GAAX,EAAgB,EAAhB;AACA,YAAM,OAAN,CAAc,UAAU,CAAV,EAAa;AACzB,6BAAqB,CAArB;AACA,eAAO,GAAP,CAAW,GAAX,EAAgB,CAAhB;AACD,OAHD;AAID;AACD,QAAI,OAAO,GAAP,CAAW,GAAX,KAAmB,OAAO,GAAP,CAAW,GAAX,EAAgB,cAAvC,EAAuD;AACrD,aAAO,GAAP,CAAW,GAAX,EAAgB,OAAO,GAAP,CAAW,GAAX,EAAgB,cAAhC;AACA,2BAAqB,OAAO,GAAP,CAAW,GAAX,CAArB;AACD;AACF,GAbD;AAcD","file":"ParseUtils-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.extractParseAttributes = extractParseAttributes;\nexports.unsetRawParseObjects = unsetRawParseObjects;\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction extractParseAttributes(object) {\n  if (!(object instanceof Parse.Object)) {\n    return object;\n  }\n  var attributes = object.toJSON();\n  var result = {};\n  (0, _objectAssign2.default)(result, { id: object.objectId }, attributes);\n  Object.keys(attributes).forEach(function (key) {\n    if (result[key] && result[key].length && result[key] instanceof Array) {\n      result[key] = result[key].map(function (o) {\n        return extractParseAttributes(o);\n      });\n    }\n    if (result[key] instanceof Parse.Object && key != 'rawParseObject') {\n      var parseObject = result[key];\n      result[key] = extractParseAttributes(result[key]);\n      result[key].rawParseObject = parseObject;\n    }\n    if (result[key] instanceof Parse.GeoPoint || result[key] && result[key].__type == \"GeoPoint\") {\n      result[key] = {\n        lat: result[key].latitude,\n        lng: result[key].longitude\n      };\n    }\n  });\n  result.rawParseObject = object;\n  return result;\n}\n/**\n* Map ParseObject to JSON recursively\n*/\n//import Parse from 'parse'\nfunction unsetRawParseObjects(object) {\n  if (!(object instanceof Parse.Object)) {\n    return object;\n  }\n  object.unset('rawParseObject');\n  Object.keys(object.attributes).forEach(function (key) {\n    if (object.get(key) instanceof Array) {\n      var items = object.get(key);\n      object.set(key, []);\n      items.forEach(function (o) {\n        unsetRawParseObjects(o);\n        object.add(key, o);\n      });\n    }\n    if (object.get(key) && object.get(key).rawParseObject) {\n      object.set(key, object.get(key).rawParseObject);\n      unsetRawParseObjects(object.get(key));\n    }\n  });\n}"]}